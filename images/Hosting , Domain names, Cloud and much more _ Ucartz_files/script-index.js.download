

var ReviewQueue=function(t){var e=this;e.options=t||{},e.container=t.container,e.chargeContainer=t.container.querySelector(".charges"),e.charges=t.charges,e.currentChargeIndex=0,e.addNewCharge=e.addNewCharge.bind(e),e.setChargeOutcome=e.setChargeOutcome.bind(e);for(var i=0;i<5;i++)e.addNewCharge();e.setInterval(function(){e.setChargeOutcome(Math.random()>.45,e.addNewCharge)},3e3)};

ReviewQueue.prototype={chargeElement:function(t){var e=document.createElement("div");return e.classList.add("charge"),e.innerHTML=['<div class="content">','<div class="risk-icon"></div>','<div class="detail amount">',"<h3>"+t.amount+"</h3><br>","<p>"+t.time+"</p>","</div>",'<div class="detail customer">',"<h3>"+t.customerName+"</h3><br>","<p>"+t.reason+"</p>","</div>",'<div class="spacer"></div>','<div class="button refund">','<svg width="17px" height="17px">','<path d="M10.82 4.75H5.25L7.42 2.6c.62-.6.62-1.53 0-2.14a1.5 1.5 0 0 0-2.17 0L.46 5.2c-.3.3-.46.61-.46 1.07 0 .46.15.77.46 1.07l4.8 4.75c.3.3.77.46 1.08.46.46 0 .77-.15 1.08-.46.62-.61.62-1.53 0-2.15L5.25 7.81h5.57c1.85 0 3.09 1.23 3.09 3.06 0 1.38-.46 3.07-3.1 3.07-.92 0-1.54.61-1.54 1.53S9.9 17 10.82 17c3.7 0 6.18-2.45 6.18-6.13a5.98 5.98 0 0 0-6.18-6.12z"/>',"</svg>","</div>",'<div class="button accept">','<svg width="17px" height="15px">','<path d="M15.1.33L5 10.4 2.4 7.74C1.16 6.7-.68 7.88.24 9.37l3.21 4.88c.46.6 1.69 1.34 2.91 0 .46-.59 10.27-12.44 10.27-12.44C17.7.48 16.18-.56 15.1.33z"/>',"</svg>","</div>","</div>"].join(""),e},setChargeOutcome:function(t,e){var i=this,n=i.chargeContainer.childNodes[2],r=n.querySelector(".button."+(t?"accept":"refund")),a=function(){r.removeEventListener("transitionend",a),e&&e()},o=function(){r.removeEventListener("animationend",o),r.addEventListener("transitionend",a),n.classList.add(t?"accepted":"refunded")};r.addEventListener("animationend",o),r.classList.add("click")},addNewCharge:function(){var t=this;t.chargeContainer.childNodes.length>=5&&t.chargeContainer.removeChild(t.chargeContainer.firstChild);var e=t.chargeElement(t.charges[t.currentChargeIndex]);t.chargeContainer.appendChild(e),t.currentChargeIndex<t.charges.length-1?t.currentChargeIndex++:t.currentChargeIndex=0},setInterval:function(t,e){var i=function(r){r-n>=e&&(n=r,t()),requestAnimationFrame(i)},n=performance.now();requestAnimationFrame(i)}};


var reviewQueue=new ReviewQueue({container:document.querySelector("aside.review-queue"),charges:[{amount:"$16.00",time:"Monthly",customerName:"Shoutcast Reseller",reason:"Unlimited"},{amount:"$10.00",time:"Monthly",customerName:"Cloud VPS", reason:"Unmetered Bandwidth"},{amount:"$49.00",time:"Monthly",customerName:"Dedicated Server ",reason:"Free IPv4"},{amount:"$70.00",time:"Annually",customerName:"Reseller Hosting",reason:"Unlimited Plan"}]});
